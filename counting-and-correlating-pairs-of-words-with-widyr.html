<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.3 Counting and correlating pairs of words with widyr | Text Mining with R Book Club</title>
  <meta name="description" content="This is the product of the R4DS Online Learning Community’s Text Mining with R Book Club." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4.3 Counting and correlating pairs of words with widyr | Text Mining with R Book Club" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the product of the R4DS Online Learning Community’s Text Mining with R Book Club." />
  <meta name="github-repo" content="r4ds/bookclub-tidytext" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.3 Counting and correlating pairs of words with widyr | Text Mining with R Book Club" />
  
  <meta name="twitter:description" content="This is the product of the R4DS Online Learning Community’s Text Mining with R Book Club." />
  

<meta name="author" content="The R4DS Online Learning Community" />


<meta name="date" content="2021-11-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tokeninzing-by-n-grams.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Text Mining with R Book Club</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="book-club-meetings.html"><a href="book-club-meetings.html"><i class="fa fa-check"></i>Book club meetings</a></li>
<li class="chapter" data-level="" data-path="pace.html"><a href="pace.html"><i class="fa fa-check"></i>Pace</a></li>
<li class="chapter" data-level="" data-path="book-chapters.html"><a href="book-chapters.html"><i class="fa fa-check"></i>Book Chapters</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="the-tidy-text-format.html"><a href="the-tidy-text-format.html"><i class="fa fa-check"></i><b>1</b> The Tidy Text Format</a><ul>
<li class="chapter" data-level="1.1" data-path="contrasting-tidy-text-with-other-data-structures.html"><a href="contrasting-tidy-text-with-other-data-structures.html"><i class="fa fa-check"></i><b>1.1</b> Contrasting Tidy Text with Other Data Structures</a></li>
<li class="chapter" data-level="1.2" data-path="the-unnest_tokens-function.html"><a href="the-unnest_tokens-function.html"><i class="fa fa-check"></i><b>1.2</b> The unnest_tokens Function</a></li>
<li class="chapter" data-level="1.3" data-path="example-1-tidying-the-works-of-jane-austen.html"><a href="example-1-tidying-the-works-of-jane-austen.html"><i class="fa fa-check"></i><b>1.3</b> Example 1: Tidying the works of Jane Austen</a></li>
<li class="chapter" data-level="1.4" data-path="example-2-the-gutenbergr-package.html"><a href="example-2-the-gutenbergr-package.html"><i class="fa fa-check"></i><b>1.4</b> Example 2: The <code>gutenbergr</code> package</a></li>
<li class="chapter" data-level="1.5" data-path="a-flowchart-of-a-typical-text-analysis-using-tidy-data-priciples..html"><a href="a-flowchart-of-a-typical-text-analysis-using-tidy-data-priciples..html"><i class="fa fa-check"></i><b>1.5</b> A flowchart of a typical text analysis using tidy data priciples.</a></li>
<li class="chapter" data-level="1.6" data-path="meeting-videos.html"><a href="meeting-videos.html"><i class="fa fa-check"></i><b>1.6</b> Meeting Videos</a><ul>
<li class="chapter" data-level="1.6.1" data-path="meeting-videos.html"><a href="meeting-videos.html#cohort-1"><i class="fa fa-check"></i><b>1.6.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sentiment-analysis-with-tidy-data.html"><a href="sentiment-analysis-with-tidy-data.html"><i class="fa fa-check"></i><b>2</b> Sentiment analysis with tidy data</a><ul>
<li class="chapter" data-level="2.1" data-path="meeting-videos-1.html"><a href="meeting-videos-1.html"><i class="fa fa-check"></i><b>2.1</b> Meeting Videos</a><ul>
<li class="chapter" data-level="2.1.1" data-path="meeting-videos-1.html"><a href="meeting-videos-1.html#cohort-1-1"><i class="fa fa-check"></i><b>2.1.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analyzing-word-and-document-frequency-tf-idf.html"><a href="analyzing-word-and-document-frequency-tf-idf.html"><i class="fa fa-check"></i><b>3</b> Analyzing word and document frequency: tf-idf</a><ul>
<li class="chapter" data-level="3.1" data-path="meeting-videos-2.html"><a href="meeting-videos-2.html"><i class="fa fa-check"></i><b>3.1</b> Meeting Videos</a><ul>
<li class="chapter" data-level="3.1.1" data-path="meeting-videos-2.html"><a href="meeting-videos-2.html#cohort-1-2"><i class="fa fa-check"></i><b>3.1.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="relationships-between-words-n-grams-correlations.html"><a href="relationships-between-words-n-grams-correlations.html"><i class="fa fa-check"></i><b>4</b> Relationships between words: n-grams &amp; correlations</a><ul>
<li class="chapter" data-level="4.1" data-path="objectives.html"><a href="objectives.html"><i class="fa fa-check"></i><b>4.1</b> Objectives:</a></li>
<li class="chapter" data-level="4.2" data-path="tokeninzing-by-n-grams.html"><a href="tokeninzing-by-n-grams.html"><i class="fa fa-check"></i><b>4.2</b> Tokeninzing by n-grams</a><ul>
<li class="chapter" data-level="4.2.1" data-path="tokeninzing-by-n-grams.html"><a href="tokeninzing-by-n-grams.html#analyzing-bigrams"><i class="fa fa-check"></i><b>4.2.1</b> Analyzing bigrams</a></li>
<li class="chapter" data-level="4.2.2" data-path="tokeninzing-by-n-grams.html"><a href="tokeninzing-by-n-grams.html#using-bigrams-to-provide-context-in-sentiment-analysis"><i class="fa fa-check"></i><b>4.2.2</b> Using bigrams to provide context in sentiment analysis</a></li>
<li class="chapter" data-level="4.2.3" data-path="tokeninzing-by-n-grams.html"><a href="tokeninzing-by-n-grams.html#visualizing-network-of-bigrams-with-ggraph"><i class="fa fa-check"></i><b>4.2.3</b> Visualizing network of bigrams with ggraph</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="counting-and-correlating-pairs-of-words-with-widyr.html"><a href="counting-and-correlating-pairs-of-words-with-widyr.html"><i class="fa fa-check"></i><b>4.3</b> Counting and correlating pairs of words with <code>widyr</code></a><ul>
<li class="chapter" data-level="4.3.1" data-path="counting-and-correlating-pairs-of-words-with-widyr.html"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#pairwise-correlation"><i class="fa fa-check"></i><b>4.3.1</b> Pairwise correlation</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Text Mining with R Book Club</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="counting-and-correlating-pairs-of-words-with-widyr" class="section level2">
<h2><span class="header-section-number">4.3</span> Counting and correlating pairs of words with <code>widyr</code></h2>
<p>Understanding where words co-occur in documents, even though they may not occur next to each other is another piece of useful information.</p>
<p><code>widyr</code> = a package to make matrix operations, like pairwise counts or correlations between two words in the same document, on tidy data easier.</p>
<p>For the purposes of our covid example, lets look at only tweets that are “Extremely Positive” and then group them into chunks of 10 tweets. By the way, these tweets span between 03/01/2020 to 04/01/2020. It would have probably been better to convert the <code>TweetAt</code> variable into a date and sort so that we can have chunks in chronological order…</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-1"></a>covid_chunk_words &lt;-<span class="st"> </span>covid_tweets <span class="op">%&gt;%</span></span>
<span id="cb72-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-2"></a><span class="st">  </span><span class="kw">filter</span>(Sentiment <span class="op">==</span><span class="st"> &quot;Extremely Positive&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb72-3"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">chunk =</span> <span class="kw">row_number</span>() <span class="op">%/%</span><span class="st"> </span><span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb72-4"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-4"></a><span class="st">  </span><span class="kw">filter</span>(chunk <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span></span>
<span id="cb72-5"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-5"></a><span class="st">  </span><span class="kw">unnest_tokens</span>(word, OriginalTweet) <span class="op">%&gt;%</span></span>
<span id="cb72-6"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-6"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>word <span class="op">%in%</span><span class="st"> </span>stop_words<span class="op">$</span>word)</span>
<span id="cb72-7"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-7"></a></span>
<span id="cb72-8"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb72-8"></a>covid_chunk_words</span></code></pre></div>
<pre><code>## # A tibble: 123,673 × 7
##    UserName ScreenName Location TweetAt    Sentiment          chunk word       
##       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;      
##  1     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 share      
##  2     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 65         
##  3     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 living     
##  4     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 struggling 
##  5     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 2          
##  6     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 local      
##  7     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 supermarket
##  8     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 due        
##  9     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 issues     
## 10     3845      48797 Drogheda 16-03-2020 Extremely Positive     1 19         
## # … with 123,663 more rows</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb74-1"></a><span class="kw">library</span>(widyr)</span>
<span id="cb74-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb74-2"></a></span>
<span id="cb74-3"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb74-3"></a><span class="co"># count words co-occuring within sections</span></span>
<span id="cb74-4"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb74-4"></a>word_pairs &lt;-<span class="st"> </span>covid_chunk_words <span class="op">%&gt;%</span></span>
<span id="cb74-5"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb74-5"></a><span class="st">  </span><span class="kw">pairwise_count</span>(word, chunk, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning: `distinct_()` was deprecated in dplyr 0.7.0.
## Please use `distinct()` instead.
## See vignette(&#39;programming&#39;) for more help
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb76-1"></a>word_pairs</span></code></pre></div>
<pre><code>## # A tibble: 9,056,928 × 3
##    item1       item2           n
##    &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
##  1 t.co        https         653
##  2 https       t.co          653
##  3 https       coronavirus   639
##  4 t.co        coronavirus   639
##  5 coronavirus https         639
##  6 coronavirus t.co          639
##  7 covid       19            621
##  8 https       19            621
##  9 t.co        19            621
## 10 19          covid         621
## # … with 9,056,918 more rows</code></pre>
<p>Most common pair of words are links, but outside of those is “covid-19” and “store”</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb78-1"></a>word_pairs <span class="op">%&gt;%</span></span>
<span id="cb78-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb78-2"></a><span class="st">  </span><span class="kw">filter</span>(item1 <span class="op">==</span><span class="st"> &quot;store&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 19,409 × 3
##    item1 item2           n
##    &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
##  1 store https         543
##  2 store t.co          543
##  3 store coronavirus   538
##  4 store 19            521
##  5 store covid         514
##  6 store grocery       492
##  7 store supermarket   431
##  8 store amp           412
##  9 store food          403
## 10 store prices        389
## # … with 19,399 more rows</code></pre>
<div id="pairwise-correlation" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Pairwise correlation</h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-1"></a><span class="co"># we need to filter for at least relatively common words first</span></span>
<span id="cb80-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-2"></a>word_cors &lt;-<span class="st"> </span>covid_chunk_words <span class="op">%&gt;%</span></span>
<span id="cb80-3"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-3"></a><span class="st">  </span><span class="kw">group_by</span>(word) <span class="op">%&gt;%</span></span>
<span id="cb80-4"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-4"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">n</span>() <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">%&gt;%</span></span>
<span id="cb80-5"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-5"></a><span class="st">  </span><span class="kw">pairwise_cor</span>(word, chunk, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</span>
<span id="cb80-6"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-6"></a></span>
<span id="cb80-7"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb80-7"></a>word_cors</span></code></pre></div>
<pre><code>## # A tibble: 761,256 × 3
##    item1     item2     correlation
##    &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;
##  1 t.co      https           1    
##  2 https     t.co            1    
##  3 paper     toilet          0.857
##  4 toilet    paper           0.857
##  5 covid     19              0.841
##  6 19        covid           0.841
##  7 doctors   nurses          0.819
##  8 nurses    doctors         0.819
##  9 sanitizer hand            0.783
## 10 hand      sanitizer       0.783
## # … with 761,246 more rows</code></pre>
<p>Let’s find words most correlated to “store”</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb82-1"></a>word_cors <span class="op">%&gt;%</span></span>
<span id="cb82-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb82-2"></a><span class="st">  </span><span class="kw">filter</span>(item1 <span class="op">==</span><span class="st"> &quot;store&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 872 × 3
##    item1 item2        correlation
##    &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;
##  1 store grocery            0.649
##  2 store employees          0.185
##  3 store workers            0.171
##  4 store weeks              0.113
##  5 store retail             0.110
##  6 store service            0.110
##  7 store coronacrisis       0.109
##  8 store clerks             0.109
##  9 store community          0.108
## 10 store 30                 0.106
## # … with 862 more rows</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-1"></a>word_cors <span class="op">%&gt;%</span></span>
<span id="cb84-2"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-2"></a><span class="st">  </span><span class="kw">filter</span>(item1 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;store&quot;</span>, <span class="st">&quot;workers&quot;</span>, <span class="st">&quot;online&quot;</span>, <span class="st">&quot;sanitizer&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb84-3"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-3"></a><span class="st">  </span><span class="kw">group_by</span>(item1) <span class="op">%&gt;%</span></span>
<span id="cb84-4"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-4"></a><span class="st">  </span><span class="kw">slice_max</span>(correlation, <span class="dt">n =</span> <span class="dv">6</span>) <span class="op">%&gt;%</span></span>
<span id="cb84-5"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-5"></a><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb84-6"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">item2 =</span> <span class="kw">reorder</span>(item2, correlation)) <span class="op">%&gt;%</span></span>
<span id="cb84-7"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-7"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(item2, correlation)) <span class="op">+</span></span>
<span id="cb84-8"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-8"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb84-9"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-9"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>item1, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb84-10"><a href="counting-and-correlating-pairs-of-words-with-widyr.html#cb84-10"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="bookclub-tidytext_files/figure-html/04-cor3-1.png" width="672" /></p>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="tokeninzing-by-n-grams.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/r4ds/bookclub-tidytext/edit/main/04-relationships.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
